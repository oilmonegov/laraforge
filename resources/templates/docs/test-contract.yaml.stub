# Test Contract Document
# Generated by LaraForge

feature: "{{ title }}"
version: "{{ version }}"
status: "{{ status }}"

{{#if frdReference}}
frd_reference: "{{ frdReference }}"
{{/if}}

{{#if globalInvariants}}
global_invariants:
{{#each globalInvariants}}
  - "{{ this }}"
{{/each}}
{{/if}}

{{#if setupRequirements}}
setup_requirements:
{{#each setupRequirements}}
  {{ @key }}: {{ this }}
{{/each}}
{{/if}}

contracts:
{{#each contracts}}
  - name: "{{ name }}"
    type: "{{ type }}"  # feature, unit, integration
{{#if given}}
    # Given-When-Then format
    given: "{{ given }}"
    when: "{{ when }}"
    then: "{{ then }}"
{{else}}
    # Structured format
{{#if preconditions}}
    preconditions:
{{#each preconditions}}
      - "{{ this }}"
{{/each}}
{{/if}}
{{#if action}}
    action:
      method: "{{ action.method }}"
      endpoint: "{{ action.endpoint }}"
{{#if action.payload}}
      payload:
{{#each action.payload}}
        {{ @key }}: {{ this }}
{{/each}}
{{/if}}
{{/if}}
{{#if expectations}}
    expectations:
{{#if expectations.status}}
      status: {{ expectations.status }}
{{/if}}
{{#if expectations.response}}
      response:
{{#each expectations.response}}
        - "{{ this }}"
{{/each}}
{{/if}}
{{#if expectations.database}}
      database:
{{#each expectations.database}}
        - "{{ this }}"
{{/each}}
{{/if}}
{{#if expectations.sideEffects}}
      side_effects:
{{#each expectations.sideEffects}}
        - "{{ this }}"
{{/each}}
{{/if}}
{{/if}}
{{/if}}
{{#if invariants}}
    invariants:
{{#each invariants}}
      - "{{ this }}"
{{/each}}
{{/if}}

{{/each}}
